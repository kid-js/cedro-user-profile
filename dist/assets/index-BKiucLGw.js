var U=d=>{throw TypeError(d)};var T=(d,t,s)=>t.has(d)||U("Cannot "+s);var e=(d,t,s)=>(T(d,t,"read from private field"),s?s.call(d):t.get(d)),n=(d,t,s)=>t.has(d)?U("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(d):t.set(d,s),o=(d,t,s,c)=>(T(d,t,"write to private field"),c?c.call(d,s):t.set(d,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();var l,v,_,E,L;const g=class g{constructor(){n(this,l,null);n(this,v,!1);n(this,_,0);n(this,E,0);if(e(g,L))return e(g,L);o(this,l,document.querySelector(".trends__slider")),o(g,L,this)}init(){const t=i=>{var a;o(this,v,!0);let r=i.pageX||((a=i.changedTouches)==null?void 0:a[0].pageX);o(this,_,r-e(this,l).offsetLeft),o(this,E,e(this,l).scrollLeft)},s=()=>{o(this,v,!1),e(this,l).classList.remove("trends__slider_scrolling")},c=i=>{var $;if(i.preventDefault(),!e(this,v))return;e(this,l).classList.add("trends__slider_scrolling");const I=((i.pageX||(($=i.changedTouches)==null?void 0:$[0].pageX))-e(this,l).offsetLeft-e(this,_))*2;e(this,l).scrollLeft=e(this,E)-I};e(this,l).addEventListener("touchstart",t),e(this,l).addEventListener("mousedown",i=>{i.preventDefault(),t(i)}),e(this,l).addEventListener("mouseup",s),e(this,l).addEventListener("mouseleave",s),e(this,l).addEventListener("touchend",s),e(this,l).addEventListener("mousemove",c),e(this,l).addEventListener("touchmove",c)}};l=new WeakMap,v=new WeakMap,_=new WeakMap,E=new WeakMap,L=new WeakMap,n(g,L,null);let j=g;const A=new j,M=[{id:1,slug:"#!",imgURL:"images/img1.jpg",title:"Brown to Blonde",description:"Пигмент для бровей",volume:"12 ml.",oldPrice:"1 500",newPrice:"3 000",promo:"Sale",color:"#C08D74"},{id:2,slug:"#!",imgURL:"images/img1.jpg",title:"Brown to Blonde",description:"Пигмент для бровей",volume:"12 ml.",oldPrice:"1 500",newPrice:"3 000",promo:"Акция! 1+1=3",color:"#EA976F"},{id:3,slug:"#!",imgURL:"images/img1.jpg",title:"Brown to Blonde",description:"Пигмент для бровей",volume:"12 ml.",oldPrice:"1 500",newPrice:"3 000",promo:"Sale",color:"#C07474"},{id:4,slug:"#!",imgURL:"images/img1.jpg",title:"Brown to Blonde",description:"Пигмент для бровей",volume:"12 ml.",oldPrice:"1 500",newPrice:"3 000",promo:"Бесплатная доставка",color:"#C08D74"},{id:5,slug:"#!",imgURL:"images/img1.jpg",title:"Brown to Blonde",description:"Пигмент для бровей",volume:"12 ml.",oldPrice:"1 500",newPrice:"3 000",promo:"New",color:"#C08D74"},{id:6,slug:"#!",imgURL:"images/img1.jpg",title:"Brown to Blonde",description:"Пигмент для бровей",volume:"12 ml.",oldPrice:"1 500",newPrice:"3 000",promo:"Sale",color:"#EA976F"},{id:7,slug:"#!",imgURL:"images/img1.jpg",title:"Brown to Blonde",description:"Пигмент для бровей",volume:"12 ml.",oldPrice:"1 500",newPrice:"3 000",promo:"🦊",color:"#C08D74"},{id:8,slug:"#!",imgURL:"images/img1.jpg",title:"Brown to Blonde",description:"Пигмент для бровей",volume:"12 ml.",oldPrice:"1 500",newPrice:"3 000",promo:"Sale",color:"#C08D74"},{id:9,slug:"#!",imgURL:"images/img1.jpg",title:"Brown to Blonde",description:"Пигмент для бровей",volume:"12 ml.",oldPrice:"1 500",newPrice:"3 000",promo:"Акция! 1+1=3",color:"#EA976F"},{id:10,slug:"#!",imgURL:"images/img1.jpg",title:"Brown to Blonde",description:"Пигмент для бровей",volume:"12 ml.",oldPrice:"1 500",newPrice:"3 000",promo:"Акция! 1+1=5",color:"#C08D74"}];var u,S,w;const p=class p{constructor(){n(this,u,[]);n(this,S,[]);if(e(p,w))return e(p,w);o(this,u,this.getParsedWishList()||[]),o(this,S,M||[]),o(p,w,this)}get wishList(){return e(this,u)}get products(){return e(this,S)}getParsedWishList(){return JSON.parse(localStorage.getItem("wishList"))}saveNewItemToWishList(t){e(this,u).push(t),this.updateWishList()}removeItemFromWishList(t){o(this,u,e(this,u).filter(s=>s!==t)),this.updateWishList()}updateWishList(){localStorage.setItem("wishList",JSON.stringify(this.wishList))}};u=new WeakMap,S=new WeakMap,w=new WeakMap,n(p,w,null);let N=p;const m=new N;var P,W,D,y,B,C,h,b;const f=class f{constructor(){n(this,P,null);n(this,W,null);n(this,D,null);n(this,y,null);n(this,B,null);n(this,C,null);n(this,h,0);if(e(f,b))return e(f,b);o(f,b,this)}getProductCardTemplate(t){const{id:s,slug:c,imgURL:i,title:r,description:a,volume:I,oldPrice:$,newPrice:q,promo:F,color:X}=t,x=`
            --wish-icon-color: ${m.wishList.includes(s)?"#d0bc7a":"#e4e4e4"}"
        `;return`
            <a
                href=${c}
                class="trends__card"
                style="--border-image: 12px solid ${X}; ${x}"
                data-product-id=${s}
            >
                <header class="trends__card-header">
                    <img class="trends__card-image" src=${i} alt=${r}>
                    <span class="trends__card-label"> ${F} </span>

                    <svg
                        class="favorite-icon"
                        data-id="fav-icon"
                        viewBox="0 0 24 24"
                        width="24"
                        height="24"
                    >
                        <use href="icons/icons-set.svg#favorite"></use>
                    </svg>
                </header>

                <div class="trends__card-body">
                    <h4 class="trends__card-title"> ${r} </h4>

                    <p class="trends__card-detail"> ${a} </p>
                    <p class="trends__card-volume"> ${I} </p>
                    <p class="trends__card-price">
                        ${$} ₽

                        <span class="trends__card-price trends__card-price_old">
                            ${q} ₽
                        </span>
                    </p>
                </div>
            </a>
        `}init(){o(this,P,document.querySelector('[data-id="total-fav"]')),o(this,W,document.querySelector('[data-id="form-button"]')),o(this,D,document.querySelector('[data-id="menu-button"]')),o(this,y,document.querySelector('[data-id="slider-div"]')),o(this,B,document.querySelector('[data-id="menu-modal"]')),o(this,C,document.querySelector('[data-id="close-button"]')),o(this,h,m.wishList.length),this.renderTotalWishedNumber(),this.renderProducts(),e(this,y).addEventListener("click",t=>{if(t.target.parentElement.dataset.id!=="fav-icon")return;t.preventDefault();const s=t.target.closest(".trends__card"),c=+s.dataset.productId;let i=!1;m.wishList.includes(c)?(i=!0,m.removeItemFromWishList(c)):m.saveNewItemToWishList(c),this.renderTotalWishedNumber(),this.updateWishIconColor(s,i)}),e(this,D).addEventListener("click",t=>{t.preventDefault(),e(this,B).show(),document.body.style.overflow="hidden",e(this,C).addEventListener("click",()=>{e(this,B).close(),document.body.removeAttribute("style")},{once:!0})}),e(this,W).addEventListener("click",t=>{t.preventDefault()}),A.init()}renderProducts(){m.products.forEach(t=>{e(this,y).insertAdjacentHTML("beforeend",this.getProductCardTemplate(t))})}renderTotalWishedNumber(){o(this,h,m.wishList.length),e(this,P).textContent=e(this,h),e(this,P).hidden=e(this,h)===0}updateWishIconColor(t,s){const c=s?"#e4e4e4":"#d0bc7a";t.setAttribute("style",`--wish-icon-color: ${c}`)}};P=new WeakMap,W=new WeakMap,D=new WeakMap,y=new WeakMap,B=new WeakMap,C=new WeakMap,h=new WeakMap,b=new WeakMap,n(f,b,null);let R=f;const O=new R;document.addEventListener("DOMContentLoaded",O.init.bind(O),{once:!0});
